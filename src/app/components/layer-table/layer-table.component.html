<div class="layer-table-container" [@slideInOut]="isTableActive ? 'visible' : 'hidden'">
    <h3 mat-dialog-title class="table-title">Table des matières</h3>

    <mat-tab-group>
        <mat-tab label="Personnel">
            <mat-list class="layer-list">
                <div mat-subheader id="subheader">
                    <button mat-icon-button (click)="toggleContent()">
                        <mat-icon [fontIcon]="isVisible ? 'expand_more' : 'chevron_right'"></mat-icon>
                    </button>
                    <span> Images Géoréférencées : </span>
                </div>
                @if (isVisible) {
                <mat-list-item *ngFor="let georeflayer of georeflayers">
                    <div class="layer-item">
                        <div class="layer-name-actions">
                            <mat-checkbox [checked]="georeflayer.layer!.getVisible()"
                                (change)="toggleLayerVisibility(georeflayer)">
                            </mat-checkbox>
                            <span class="layer-name">{{ georeflayer.layerName }}</span>

                            <div class="layer-actions">

                                <button mat-icon-button (click)="zoomToLayer(georeflayer)"
                                    matTooltip="Zoom sur la couche">
                                    <mat-icon>aspect_ratio</mat-icon>
                                </button>

                                <button mat-icon-button (click)="showLayerDetails(georeflayer.imageId)"
                                    matTooltip="Détails de la couche">
                                    <mat-icon>info</mat-icon>
                                </button>

                                <button mat-icon-button (click)="openReGeorefImageDialog(georeflayer)" [disabled]="isReGeoref"
                                    matTooltip="Re-géoréférencer">
                                    <mat-icon color="primary">refresh</mat-icon>
                                </button>

                                <button mat-icon-button (click)="openDeleteConfirmDialog(georeflayer)" [disabled]="isReGeoref"
                                    matTooltip="Supprimer">
                                    <mat-icon color="warn">delete</mat-icon>
                                </button>
                            </div>

                        </div>
                        <mat-slider class="opacity-slider" min="0" max="1" step="0.1" [discrete]="true">
                            <input matSliderThumb [(ngModel)]="georeflayer.opacity"
                                (input)="updateOpacity(georeflayer)">
                        </mat-slider>
                    </div>
                </mat-list-item>
                }
            </mat-list>
        </mat-tab>
        <mat-tab label="Réseau Mobile"></mat-tab>
    </mat-tab-group>
</div>